(this["webpackJsonpguess-weather"]=this["webpackJsonpguess-weather"]||[]).push([[0],{19:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(5),c=a.n(n),i=(a(19),a(9)),o=a.n(i),u=a(12),l=a(14),d=a(3),b=function(){for(var e=["Managua","Bras\xedlia","Algiers","London","Montevideo","Taiwan","Dubai","Luanda","Buenos Aires","Sydney","Linz","Waterloo","Vienna","Porto Calvo","Tirana","Nassau","Dhaka","Yerevan","Brussels","Hamilton","Sucre","Sarajevo","Rabat","Moscow","Paris","Berlin","Beijing","Taipei","Bangkok","Tunis","Ankara","Kampala","Kiev","Abu Dhabi","Accra","Kuala Lumpur","Monaco","Ulan Bator","Maputo","Windhoek","Yaren","Beijing","Kathmandu","Amsterdam","Islamabad","Ramallah","Lima","Manila"],t=[],a=0,r=1;r<=5;)a=Math.floor(47*Math.random())+0,t.push(e[a]),r+=1;return t},p=(a(25),a(1)),j=function(e){var t="pet/welcome.png",a=e.arrResponses.filter((function(e){return!1===e.isCorrect})).length;if(5===e.currentCity&&a<=2)t="pet/happy.png";else switch(a){case 1:t="pet/surprised.png";break;case 2:t="pet/sweat.png";break;case 3:t="pet/sad.png";break;case 4:t="pet/cry.png";break;default:t=a>2?"pet/cry.png":"pet/welcome.png"}return Object(p.jsx)("div",{className:"card bg-dark text-white mb-3 my-4",children:Object(p.jsxs)("div",{className:"row g-0",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsx)("img",{src:t,className:"img-fluid rounded-start my-2",alt:e.currentCity})}),Object(p.jsx)("div",{className:"col-md-8",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title display-6 text-warning text-uppercase text-start",children:"Guess The Weather Game"}),Object(p.jsx)("p",{className:"card-text fs-5 col-11 my-4 text-start",children:"Hello pals, I am the weather Jiraffe. In this game, 5 cities will be displayed in the screen one by one. your mission, if you decide to take it, will be to guess the current weather in each of these cities you're are being presented with. If you assert in at least 3 of them, with a deviation of 5 grades maxs, you shall certainly win, otherwise you lose. Are you ready for this quest, champion?"}),5===e.currentCity&&Object(p.jsx)("div",{className:"row text-start text-uppercase",children:a<3?Object(p.jsx)("h1",{className:"text-success",children:"You've won, Congrats!"}):Object(p.jsx)("h1",{className:"text-danger",children:"You just lose, pal!"})})]})})]})})},h=function(e){var t=e.currentCity;return Object(p.jsx)("div",{className:"progress",children:Object(p.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100",style:{width:20*t+"%"}})})},m=function(e){return Object(p.jsx)("span",{className:e.customClassRules?"emoji ".concat(e.customClassRules):"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true",children:e.symbol})},y=function(e){var t=e.arrResponses;return Object(p.jsx)("div",{children:Object(p.jsx)("ul",{className:"list-group list-group-numbered",children:t.map((function(e,t){var a=e.city,r=e.userResponse,s=e.cityTemperature,n=e.isCorrect;return Object(p.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[Object(p.jsxs)("div",{className:"ms-2 me-auto text-muted",children:[Object(p.jsx)("div",{className:"fw-bold text-dark",children:a}),Object(p.jsxs)("span",{className:n?"text-primary small ms-3":"text-danger small ms-3 text-decoration-line-through",children:["Your Guess: ",r,"\xb0C"]})]}),Object(p.jsxs)("span",{className:"fs-5 badge text-black p-3 w-25",children:[Object(p.jsx)(m,{customClassRules:"fs-5",symbol:s>=27?"\ud83e\udd75":"\ud83e\udd76"}),"  ",s," \xb0C"]})]},t)}))})})},f=function(){return Object(p.jsx)("div",{className:"spinner-border text-primary my-3",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},x=a(11),g=function(e){var t="Type in only numbers, please.";return Object(p.jsxs)("div",{className:"input-group mb-3",children:[Object(p.jsx)(x.a,{gutter:8}),Object(p.jsx)("input",{type:"text","data-bs-toggle":"tooltip","data-bs-placement":"bottom","data-bs-html":"true",placeholder:e.fillerText,className:"form-control","aria-label":e.placeholder,"aria-describedby":"button-addon2",maxLength:"5",title:t,pattern:"[0-9.]{0,5}",value:e.temperature||"",onChange:e.handleInputChange,onFocus:function(e){return e.target.value=""},onKeyPress:function(e){/[0-9.]/.test(e.key)||(x.b.error(t,{style:{border:"1px dotted black",background:"#ffb7b7",color:"#990044"}}),e.preventDefault())}}),Object(p.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:e.handleSubmit,children:"SUBMIT"})]})},O="user/setTemperature",v="city/setCurrent",w="user/updateResponses",N="city/setWeather",C="city/setLoading",k=function(e){return{type:O,payload:e}},T=function(e){return{type:v,payload:e}},R=function(e){return{type:w,payload:e}},L=function(e){return function(t){return t(B(!0)),fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=9cff733aee57cb05b63dd4f731c46bc4").then((function(e){if(e.ok)return e;throw new Error(e.status+e.statusText)})).then((function(e){return e.json()})).then((function(e){return t(W(e))}))}},W=function(e){return{type:N,payload:e}},B=function(e){return{type:C,payload:e}},A=b(),M=function(){var e=Object(d.c)((function(e){return e.guessWeather.temperature})),t=Object(d.c)((function(e){return e.guessWeather.currentCity})),a=Object(d.c)((function(e){return e.guessWeather.arrResponses})),s=Object(d.c)((function(e){return e.guessWeather.cityWeather})),n=Object(d.c)((function(e){return e.guessWeather.isLoading})),c=Object(d.b)(),i=function(){c(k(0)),c(R([])),c(T(0)),A=[],A=b()};Object(r.useEffect)((function(){if("{}"!==JSON.stringify(s)){var r=s.main.temp,n=[].concat(Object(l.a)(a),[{city:A[t],userResponse:e,isCorrect:parseFloat(e)>=r&&parseFloat(e)<=r+5,cityTemperature:r}]);c(R(n)),c(k(0)),c(T(t+1))}}),[s]);var m=function(){var e=Object(u.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t<5?c(L(A[t])):i();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"App container",children:[Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)(j,{currentCity:t,arrResponses:a}),5!==t&&Object(p.jsxs)(p.Fragment,{children:[n?Object(p.jsx)(f,{}):Object(p.jsxs)("div",{className:"row my-2 text-uppercase justify-content-start h4",children:[Object(p.jsx)("div",{className:"col-auto text-dark",children:"Current City:"}),Object(p.jsx)("div",{className:"col-auto text-secondary",children:A[t]||"All cities have been displayed"})]}),Object(p.jsx)(g,{temperature:e,fillerText:"Type in your best guess",currentCity:t,handleInputChange:function(e){c(k(e.target.value))},handleSubmit:m})]})]}),Object(p.jsx)("div",{className:"row my-2",children:Object(p.jsx)(h,{currentCity:t})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)(y,{arrResponses:a})}),Object(p.jsx)("div",{className:"row my-3 justify-content-center",children:t>=5&&Object(p.jsx)("button",{className:"btn btn-success text-uppercase",type:"button",id:"button-addon2",onClick:i,children:"Play Again"})})]})},I=a(4),S=a(13),F=a(2),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{temperature:0,currentCity:0,arrResponses:[],cityWeather:{},isLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(F.a)(Object(F.a)({},e),{},{temperature:t.payload});case v:return Object(F.a)(Object(F.a)({},e),{},{currentCity:t.payload});case w:return Object(F.a)(Object(F.a)({},e),{},{arrResponses:t.payload});case N:return Object(F.a)(Object(F.a)({},e),{},{cityWeather:t.payload,isLoading:!1});case C:return Object(F.a)(Object(F.a)({},e),{},{isLoading:t.payload});default:return e}},P=Object(I.b)({guessWeather:D}),K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))},Y=Object(I.c)(P,Object(I.a)(S.a));c.a.render(Object(p.jsxs)(s.a.StrictMode,{children:[Object(p.jsx)(d.a,{store:Y,children:Object(p.jsx)(M,{})}),","]}),document.getElementById("root")),K()}},[[27,1,2]]]);
//# sourceMappingURL=main.72acad1f.chunk.js.map