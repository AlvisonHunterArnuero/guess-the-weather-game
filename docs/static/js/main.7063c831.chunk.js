(this["webpackJsonpguess-weather"]=this["webpackJsonpguess-weather"]||[]).push([[0],{17:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(5),c=a.n(n),i=(a(17),a(8)),o=a.n(i),u=a(10),l=a(12),d=a(3),p=function(){for(var e=["Managua","Bras\xedlia","Algiers","London","Montevideo","Taiwan","Dubai","Luanda","Buenos Aires","Sydney","Linz","Waterloo","Vienna","Porto Calvo","Tirana","Nassau","Dhaka","Yerevan","Brussels","Hamilton","Sucre","Sarajevo","Rabat","Moscow","Paris","Berlin","Beijing","Taipei","Bangkok","Tunis","Ankara","Kampala","Kiev","Abu Dhabi","Accra","Kuala Lumpur","Monaco","Ulan Bator","Maputo","Windhoek","Yaren","Beijing","Kathmandu","Amsterdam","Islamabad","Ramallah","Lima","Manila"],t=[],a=0,r=1;r<=5;)a=Math.floor(47*Math.random())+0,t.push(e[a]),r+=1;return t},b=(a(23),a(0)),j=function(e){var t="pet/welcome.png",a=e.arrResponses.filter((function(e){return!1===e.isCorrect})).length;if(5===e.currentCity&&a<=2)t="pet/happy.png";else switch(a){case 1:t="pet/surprised.png";break;case 2:t="pet/sweat.png";break;case 3:t="pet/sad.png";break;case 4:t="pet/cry.png";break;default:t=a>2?"pet/cry.png":"pet/welcome.png"}return Object(b.jsx)("div",{className:"card bg-dark text-white mb-3 my-4",children:Object(b.jsxs)("div",{className:"row g-0",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("img",{src:t,className:"img-fluid rounded-start my-2",alt:e.currentCity})}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title display-6 text-warning text-uppercase text-start",children:"Guess The Weather Game"}),Object(b.jsx)("p",{className:"card-text fs-5 col-11 my-4 text-start",children:"Hello pals, I am the weather Jiraffe. In this game, 5 cities will be displayed in the screen one by one. your mission, if you decide to take it, will be to guess the current weather in each of these cities you're are being presented with. If you assert in at least 3 of them, with a deviation of 5 grades maxs, you shall certainly win, otherwise you lose. Are you ready for this quest, champion?"}),5===e.currentCity&&Object(b.jsx)("div",{className:"row text-start text-uppercase",children:a<3?Object(b.jsx)("h1",{className:"text-success",children:"You've won, Congrats!"}):Object(b.jsx)("h1",{className:"text-danger",children:"You just lose, pal!"})})]})})]})})},h=function(e){var t=e.currentCity;return Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100",style:{width:20*t+"%"}})})},m=function(e){return Object(b.jsx)("span",{className:e.customClassRules?"emoji ".concat(e.customClassRules):"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true",children:e.symbol})},y=function(e){var t=e.arrResponses;return Object(b.jsx)("div",{children:Object(b.jsx)("ul",{className:"list-group list-group-numbered",children:t.map((function(e,t){var a=e.city,r=e.userResponse,s=e.cityTemperature,n=e.isCorrect;return Object(b.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[Object(b.jsxs)("div",{className:"ms-2 me-auto text-muted",children:[Object(b.jsx)("div",{className:"fw-bold text-dark",children:a}),Object(b.jsxs)("span",{className:n?"text-primary small ms-3":"text-danger small ms-3 text-decoration-line-through",children:["Your Guess: ",r,"\xb0C"]})]}),Object(b.jsxs)("span",{className:"fs-5 badge text-black p-3 w-25",children:[Object(b.jsx)(m,{customClassRules:"fs-5",symbol:s>=27?"\ud83e\udd75":"\ud83e\udd76"}),"  ",s," \xb0C"]})]},t)}))})})},f=function(){return Object(b.jsx)("div",{className:"spinner-border text-primary my-3",role:"status",children:Object(b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},x=function(e){return Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("input",{type:"text","data-bs-toggle":"tooltip","data-bs-placement":"bottom","data-bs-html":"true",placeholder:e.fillerText,className:"form-control","aria-label":e.placeholder,"aria-describedby":"button-addon2",maxLength:"5",title:"Type in only numbers, please.",pattern:"[0-9.]{0,5}",value:e.temperature||"",onChange:e.handleInputChange,onFocus:function(e){return e.target.value=""},onKeyPress:function(e){/[0-9.]/.test(e.key)||e.preventDefault()}}),Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:e.handleSubmit,children:"SUBMIT"})]})},g="user/setTemperature",O="city/setCurrent",v="user/updateResponses",w="city/setWeather",N="city/setLoading",C=function(e){return{type:g,payload:e}},k=function(e){return{type:O,payload:e}},T=function(e){return{type:v,payload:e}},R=function(e){return function(t){return t(W(!0)),fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=9cff733aee57cb05b63dd4f731c46bc4").then((function(e){if(e.ok)return e;throw new Error(e.status+e.statusText)})).then((function(e){return e.json()})).then((function(e){return t(L(e))}))}},L=function(e){return{type:w,payload:e}},W=function(e){return{type:N,payload:e}},B=p(),A=function(){var e=Object(d.c)((function(e){return e.guessWeather.temperature})),t=Object(d.c)((function(e){return e.guessWeather.currentCity})),a=Object(d.c)((function(e){return e.guessWeather.arrResponses})),s=Object(d.c)((function(e){return e.guessWeather.cityWeather})),n=Object(d.c)((function(e){return e.guessWeather.isLoading})),c=Object(d.b)(),i=function(){c(C(0)),c(T([])),c(k(0)),B=[],B=p()};Object(r.useEffect)((function(){if("{}"!==JSON.stringify(s)){var r=s.main.temp,n=[].concat(Object(l.a)(a),[{city:B[t],userResponse:e,isCorrect:parseFloat(e)>=r&&parseFloat(e)<=r+5,cityTemperature:r}]);c(T(n)),c(C(0)),c(k(t+1))}}),[s]);var m=function(){var e=Object(u.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t<5?c(R(B[t])):i();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"App container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(j,{currentCity:t,arrResponses:a}),5!==t&&Object(b.jsxs)(b.Fragment,{children:[n?Object(b.jsx)(f,{}):Object(b.jsxs)("div",{className:"row my-2 text-uppercase justify-content-start h4",children:[Object(b.jsx)("div",{className:"col-auto text-dark",children:"Current City:"}),Object(b.jsx)("div",{className:"col-auto text-secondary",children:B[t]||"All cities have been displayed"})]}),Object(b.jsx)(x,{temperature:e,fillerText:"Type in your best guess",currentCity:t,handleInputChange:function(e){c(C(e.target.value))},handleSubmit:m})]})]}),Object(b.jsx)("div",{className:"row my-2",children:Object(b.jsx)(h,{currentCity:t})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(y,{arrResponses:a})}),Object(b.jsx)("div",{className:"row my-3 justify-content-center",children:t>=5&&Object(b.jsx)("button",{className:"btn btn-success text-uppercase",type:"button",id:"button-addon2",onClick:i,children:"Play Again"})})]})},M=a(4),I=a(11),S=a(2),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{temperature:0,currentCity:0,arrResponses:[],cityWeather:{},isLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(S.a)(Object(S.a)({},e),{},{temperature:t.payload});case O:return Object(S.a)(Object(S.a)({},e),{},{currentCity:t.payload});case v:return Object(S.a)(Object(S.a)({},e),{},{arrResponses:t.payload});case w:return Object(S.a)(Object(S.a)({},e),{},{cityWeather:t.payload,isLoading:!1});case N:return Object(S.a)(Object(S.a)({},e),{},{isLoading:t.payload});default:return e}},D=Object(M.b)({guessWeather:F}),P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,26)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),r(e),s(e),n(e),c(e)}))},K=Object(M.c)(D,Object(M.a)(I.a));c.a.render(Object(b.jsxs)(s.a.StrictMode,{children:[Object(b.jsx)(d.a,{store:K,children:Object(b.jsx)(A,{})}),","]}),document.getElementById("root")),P()}},[[25,1,2]]]);
//# sourceMappingURL=main.7063c831.chunk.js.map